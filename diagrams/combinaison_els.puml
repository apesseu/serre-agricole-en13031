@startuml
!theme plain
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 10
skinparam packageStyle rectangle
skinparam partition {
    BorderColor #2E86AB
    BackgroundColor #F8F9FA
}
skinparam note {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
}

title Dimensionnement Serres Agricoles - PARTIE 3/3\nÉtats Limites de Service (ELS) et Finalisation selon NF EN 13031-1
caption Cliquez sur les éléments pour accéder aux clauses normatives correspondantes

start

:RÉCUPÉRATION DES RÉSULTATS ELU;
note right
**DONNÉES RÉCUPÉRÉES PARTIE 2 :**
✓ Toutes combinaisons ELU calculées
✓ Actions favorables/défavorables traitées
✓ Coefficients appliqués selon la classe
✓ Cas particuliers pris en compte
end note

if (Classe A ?) then (oui)
    partition "COMBINAISONS ÉTATS LIMITES DE SERVICE (ELS)" {
        floating note left: [[https://www.norme-en13031.fr/clause-6 Clause 6 - États limites de service]]
        
        :PRINCIPE ELS;
        note right
        **COEFFICIENTS ELS :**
        • γG = 1,0 pour toutes actions permanentes
        • γQ = 1,0 pour toutes actions variables
        • Coefficients ψ identiques aux ELU
        • Action Q4 NON prise en compte aux ELS
        end note
        
        :ELS - COMBINAISON a1);
        :Permanente + Installations + Vent + Neige + Cultures;
        :Ed = G1 + G2 + Q1 + ψ02×Q2 + ψ03×Q3;
        note right
        **ELS a1) TOUTES ACTIONS**
        Ed = 1,0×G1 + 1,0×G2 + 1,0×Q1 + 0,6×Q2 + 1,0×Q3
        end note
        
        :ELS - COMBINAISON a2)-1;
        :Permanente + Installations + Neige + Cultures;
        :Ed = G1 + G2 + Q2 + ψ03×Q3;
        note right
        **ELS a2)-1 NEIGE DOMINANTE**
        Sans vent concomitant
        end note
        
        :ELS - COMBINAISON a2)-2;
        :Permanente + Installations + Vent + Neige + Cultures;
        :Ed = G1 + G2 + ψ01×Q1 + Q2 + ψ03×Q3;
        note right
        **ELS a2)-2 NEIGE DOMINANTE**
        Avec vent concomitant
        end note
        
        :ELS - COMBINAISON a3);
        :Permanente + Installations + Neige;
        :Ed = G1 + G2 + Q2;
        note right
        **ELS a3) NEIGE SEULE**
        Sans autres actions variables
        end note
        
        :ELS - COMBINAISON a4);
        :Permanente + Installations + Vent + Neige;
        :Ed = G1 + G2 + ψ01×Q1 + ψ02×Q2;
        note right
        **ELS a4) VENT ET NEIGE**
        Actions climatiques concomitantes
        end note
        
        :ELS - COMBINAISON a5)-1;
        :Permanente + Installations + Vent + Cultures;
        :Ed = G1 + G2 + Q1 + ψ03×Q3;
        note right
        **ELS a5)-1 VENT DOMINANT**
        Avec cultures d'accompagnement
        end note
        
        :ELS - COMBINAISON a5)-2;
        :Permanente + Installations + Vent;
        :Ed = G1 + G2 + ψ01×Q1;
        note right
        **ELS a5)-2 VENT CONCOMITANT**
        Action d'accompagnement uniquement
        end note
        
        :ELS - COMBINAISON b1);
        :Permanente + Vent;
        :Ed = G1 + Q1;
        note right
        **ELS b1) STRUCTURE SIMPLIFIÉE**
        Vent sur structure sans installations
        end note
        
        :ELS - COMBINAISON c1);
        :Permanente + Installations + Cultures;
        :Ed = G1 + G2 + ψ03×Q3;
        note right
        **ELS c1) SANS ACTION VERTICALE**
        Action verticale concentrée Q4 
        non prise en compte aux ELS
        end note
        
        :ELS - COMBINAISON c2);
        :Permanente + Installations + Cultures + Installations occasionnelles;
        :Ed = G1 + G2 + ψ03×Q3 + Q5;
        note right
        **ELS c2) INSTALLATIONS OCCASIONNELLES**
        Équipements temporaires
        end note
        
        if (Actions thermiques requises ?) then (oui)
            :ELS - COMBINAISON e1);
            :Permanente + Installations + Thermique;
            :Ed = G1 + G2 + Q6;
            note right
            **ELS e1) ACTIONS THERMIQUES**
            Dilatations/contractions thermiques
            end note
        endif
        
        :ELS - COMBINAISON f1);
        :Permanente + Installations + Cultures;
        :Ed = G1 + G2 + ψ03×Q3;
        note right
        **ELS f1) SANS NEIGE EXCEPTIONNELLE**
        Neige exceptionnelle non considérée aux ELS
        end note
        
        :Toutes les combinaisons ELS calculées;
        note right
        **RÉSULTATS ELS :**
        ✓ Déplacements calculés pour chaque combinaison
        ✓ Vérification des tolérances classe A
        ✓ Aptitude au service vérifiée
        end note
    }
else (non - Classe B)
    :Vérification ELS non obligatoire pour Classe B;
    note right
    [[https://www.norme-en13031.fr/clause-5.2.3.2 Clause 5.2.3.2]]
    **SIMPLIFICATION CLASSE B :**
    Les serres de classe B peuvent être calculées 
    en tenant compte uniquement des ELU.
    Les vérifications ELS ne sont pas obligatoires.
    end note
endif

partition "SÉLECTION COMBINAISON DIMENSIONNANTE"{
    :Calcul de toutes les combinaisons applicables;
    note right
    **MÉTHODE DE CALCUL :**
    • Appliquer chaque combinaison à la structure
    • Calculer les sollicitations résultantes
    • Identifier les valeurs maximales
    end note
    
    :Identifier la combinaison la plus défavorable pour chaque élément;
    note right
    **ANALYSE PAR ÉLÉMENT :**
    Pour chaque élément structural :
    • Poteaux, poutres, contreventements
    • Fondations, assemblages
    • Couverture, équipements
    
    Identifier la combinaison produisant :
    • Moments fléchissants max
    • Efforts normaux max
    • Efforts tranchants max
    • Déplacements max (si ELS requis)
    end note
    
    :Enregistrer les résultats par combinaison;
    note left
    **TABLEAU DE RÉSULTATS :**
    • Sollicitations maximales par combinaison
    • Combinaison critique par élément
    • Marges de sécurité
    • Ratios d'utilisation
    • Déplacements calculés (classe A)
    end note
    
    :Synthèse des combinaisons dimensionnantes;
    note right
    **DOCUMENTATION RÉSULTATS :**
    • Combinaison critique globale
    • Combinaisons critiques par zone
    • Justifications des choix
    • Réserves de résistance
    end note
}

partition "VÉRIFICATIONS FINALES"{
    :Vérifier que les sollicitations ne dépassent pas les résistances;
    note right: [[https://www.norme-en13031.fr/clause-5.1.2 Clause 5.1.2 - États limites ultimes]]
    
    if (Classe A ?) then (oui)
        :Vérifier les déplacements aux ELS;
        note right
        [[https://www.norme-en13031.fr/clause-5.1.3 Clause 5.1.3 - Exigences de durabilité]]
        **VÉRIFICATIONS ELS :**
        • Déplacements < limites admissibles
        • Fonctionnement équipements assuré
        • Étanchéité maintenue
        • Aspect esthétique acceptable
        end note
    endif
    
    :Vérifier la résistance ultime aux ELU;
    note right
    **VÉRIFICATIONS ELU :**
    • Résistance des matériaux
    • Stabilité d'ensemble
    • Résistance au flambement
    • Résistance des assemblages
    • Résistance des fondations
    end note
    
    :Vérifications de durabilité;
    note right
    [[https://www.norme-en13031.fr/clause-5.1.3 Clause 5.1.3 - Exigences de durabilité]]
    **DURABILITÉ :**
    • Protection contre la corrosion
    • Résistance aux agents climatiques
    • Maintenance préventive
    • Durée de vie nominale respectée
    end note
    
    :Vérifications complémentaires selon classe;
    if (Classe A ?) then (oui)
        :Vérifications complètes ELU + ELS;
    else (Classe B)
        :Vérifications ELU uniquement;
    endif
}

partition "RÉSULTATS ET SYNTHÈSE"{
    :Compilation des résultats finaux;
    note right
    **RAPPORT DE CALCUL :**
    • Classification de la serre validée
    • Actions considérées listées
    • Combinaisons applicables identifiées
    • Sollicitations maximales calculées
    • Combinaisons dimensionnantes définies
    • Vérifications réglementaires OK
    end note
    
    :Documentation technique;
    note left
    **ÉLÉMENTS DE SORTIE :**
    • Note de calcul complète
    • Plans des assemblages (en option)
    • Spécifications matériaux
    • Instructions de montage
    • Programme de maintenance
    • Certificat de conformité NF EN 13031-1
    end note
    
    :Validation finale de la conformité;
    note right
    **CONFORMITÉ NF EN 13031-1 :**
    ✓ Classification correcte
    ✓ Actions appropriées considérées
    ✓ Combinaisons réglementaires appliquées
    ✓ Coefficients normatifs respectés
    ✓ Vérifications selon la classe effectuées
    ✓ Résistances et déplacements validés
    ✓ Durabilité assurée
    end note
}

:FIN DU CALCUL SIMPLIFIÉ ;
note right
**DIMENSIONNEMENT TERMINÉ**

**RÉSULTATS OBTENUS :**
• Serre conforme à la NF EN 13031-1
• Sécurité structurale assurée
• Aptitude au service vérifiée (classe A)
• Durabilité respectée
• Documentation complète fournie

**COMBINAISONS IDENTIFIÉES :**
• Combinaisons critiques par élément
• Sollicitations maximales calculées
• Marges de sécurité déterminées
• Recommandations de mise en œuvre
end note

stop

@enduml